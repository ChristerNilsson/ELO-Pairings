// Generated by CoffeeScript 2.7.0
import {
  g,
  print,
  range
} from './globals.js';

import {
  Page
} from './page.js';

import {
  Button,
  spread
} from './button.js';

import {
  Lista
} from './lista.js';

export var Pairings = class Pairings extends Page {
  constructor() {
    super();
    this.t = g.tournament;
    this.y = 1.3 * g.ZOOM[g.state];
    this.h = 20;
    this.lista = new Lista();
    this.buttons.ArrowLeft = new Button('', '', () => {
      return g.setState(g.STANDINGS);
    });
    this.buttons.ArrowRight = new Button('', '', () => {
      return g.setState(g.TABLES);
    });
    this.buttons.p = new Button('Pair', 'P = Perform pairing', () => {
      return this.t.lotta();
    });
    this.buttons[' '] = new Button('toggle', 'space = Toggle pause/active', () => {
      return this.t.playersByName[g.pages[g.state].lista.currentRow].toggle();
    });
    this.buttons._.active = false;
    this.setLista();
  }

  setLista() {
    this.lista = new Lista(this.t.playersByName, "Pause Name", this.buttons, function(p) {
      var s;
      s = p.active ? '      ' : 'pause ';
      return s + g.txtT(p.name, 25, window.LEFT);
    });
    return spread(this.buttons, 0.6 * g.ZOOM[g.state], this.y, this.h);
  }

  draw() {
    var button, key, results;
    fill('white');
    this.showHeader(this.t.round);
    this.lista.draw();
    results = [];
    for (key in this.buttons) {
      button = this.buttons[key];
      results.push(button.draw());
    }
    return results;
  }

  mouseWheel(event) {
    return this.lista.mouseWheel(event);
  }

  mousePressed(event) {
    return this.lista.mousePressed(event);
  }

  keyPressed(event) {
    return this.buttons[key].click();
  }

};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFpcmluZ3MuanMiLCJzb3VyY2VSb290IjoiLi5cXCIsInNvdXJjZXMiOlsiY29mZmVlXFxwYWlyaW5ncy5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQUE7RUFBUyxDQUFUO0VBQVcsS0FBWDtFQUFpQixLQUFqQjtDQUFBLE1BQUE7O0FBQ0EsT0FBQTtFQUFTLElBQVQ7Q0FBQSxNQUFBOztBQUNBLE9BQUE7RUFBUyxNQUFUO0VBQWdCLE1BQWhCO0NBQUEsTUFBQTs7QUFDQSxPQUFBO0VBQVMsS0FBVDtDQUFBLE1BQUE7O0FBRUEsT0FBQSxJQUFhLFdBQU4sTUFBQSxTQUFBLFFBQXVCLEtBQXZCO0VBRU4sV0FBYyxDQUFBLENBQUE7U0FDYixDQUFBO0lBQ0EsSUFBQyxDQUFBLENBQUQsR0FBSyxDQUFDLENBQUM7SUFDUCxJQUFDLENBQUEsQ0FBRCxHQUFLLEdBQUEsR0FBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFIO0lBQ2pCLElBQUMsQ0FBQSxDQUFELEdBQUs7SUFDTCxJQUFDLENBQUEsS0FBRCxHQUFTLElBQUksS0FBSixDQUFBO0lBRVQsSUFBQyxDQUFBLE9BQU8sQ0FBQyxTQUFULEdBQXNCLElBQUksTUFBSixDQUFXLEVBQVgsRUFBZSxFQUFmLEVBQW1CLENBQUEsQ0FBQSxHQUFBO2FBQU0sQ0FBQyxDQUFDLFFBQUYsQ0FBVyxDQUFDLENBQUMsU0FBYjtJQUFOLENBQW5CO0lBQ3RCLElBQUMsQ0FBQSxPQUFPLENBQUMsVUFBVCxHQUFzQixJQUFJLE1BQUosQ0FBVyxFQUFYLEVBQWUsRUFBZixFQUFtQixDQUFBLENBQUEsR0FBQTthQUFNLENBQUMsQ0FBQyxRQUFGLENBQVcsQ0FBQyxDQUFDLE1BQWI7SUFBTixDQUFuQjtJQUV0QixJQUFDLENBQUEsT0FBTyxDQUFDLENBQVQsR0FBYSxJQUFJLE1BQUosQ0FBVyxNQUFYLEVBQW1CLHFCQUFuQixFQUEwQyxDQUFBLENBQUEsR0FBQTthQUFNLElBQUMsQ0FBQSxDQUFDLENBQUMsS0FBSCxDQUFBO0lBQU4sQ0FBMUM7SUFDYixJQUFDLENBQUEsT0FBTyxDQUFDLEdBQUQsQ0FBUixHQUFnQixJQUFJLE1BQUosQ0FBVyxRQUFYLEVBQXFCLDZCQUFyQixFQUNmLENBQUEsQ0FBQSxHQUFBO2FBQU0sSUFBQyxDQUFBLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSCxDQUFTLENBQUMsS0FBSyxDQUFDLFVBQXhCLENBQW1DLENBQUMsTUFBcEQsQ0FBQTtJQUFOLENBRGU7SUFHaEIsSUFBQyxDQUFBLE9BQU8sQ0FBQyxDQUFDLENBQUMsTUFBWCxHQUFvQjtJQUNwQixJQUFDLENBQUEsUUFBRCxDQUFBO0VBZmE7O0VBaUJkLFFBQVcsQ0FBQSxDQUFBO0lBQ1YsSUFBQyxDQUFBLEtBQUQsR0FBUyxJQUFJLEtBQUosQ0FBVSxJQUFDLENBQUEsQ0FBQyxDQUFDLGFBQWIsRUFBNEIsWUFBNUIsRUFBMEMsSUFBQyxDQUFBLE9BQTNDLEVBQW9ELFFBQUEsQ0FBQyxDQUFELENBQUE7QUFDL0QsVUFBQTtNQUFHLENBQUEsR0FBTyxDQUFDLENBQUMsTUFBTCxHQUFpQixRQUFqQixHQUErQjthQUNuQyxDQUFBLEdBQUksQ0FBQyxDQUFDLElBQUYsQ0FBTyxDQUFDLENBQUMsSUFBVCxFQUFlLEVBQWYsRUFBbUIsTUFBTSxDQUFDLElBQTFCO0lBRndELENBQXBEO1dBR1QsTUFBQSxDQUFPLElBQUMsQ0FBQSxPQUFSLEVBQWlCLEdBQUEsR0FBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFILENBQTNCLEVBQXFDLElBQUMsQ0FBQSxDQUF0QyxFQUF3QyxJQUFDLENBQUEsQ0FBekM7RUFKVTs7RUFNWCxJQUFPLENBQUEsQ0FBQTtBQUNSLFFBQUEsTUFBQSxFQUFBLEdBQUEsRUFBQTtJQUFFLElBQUEsQ0FBSyxPQUFMO0lBQ0EsSUFBQyxDQUFBLFVBQUQsQ0FBWSxJQUFDLENBQUEsQ0FBQyxDQUFDLEtBQWY7SUFDQSxJQUFDLENBQUEsS0FBSyxDQUFDLElBQVAsQ0FBQTtBQUNBO0lBQUEsS0FBQSxtQkFBQTtNQUNDLE1BQUEsR0FBUyxJQUFDLENBQUEsT0FBTyxDQUFDLEdBQUQ7bUJBQ2pCLE1BQU0sQ0FBQyxJQUFQLENBQUE7SUFGRCxDQUFBOztFQUpNOztFQVFQLFVBQWEsQ0FBQyxLQUFELENBQUE7V0FBVyxJQUFDLENBQUEsS0FBSyxDQUFDLFVBQVAsQ0FBa0IsS0FBbEI7RUFBWDs7RUFDYixZQUFlLENBQUMsS0FBRCxDQUFBO1dBQVcsSUFBQyxDQUFBLEtBQUssQ0FBQyxZQUFQLENBQW9CLEtBQXBCO0VBQVg7O0VBQ2YsVUFBYSxDQUFDLEtBQUQsQ0FBQTtXQUFXLElBQUMsQ0FBQSxPQUFPLENBQUMsR0FBRCxDQUFLLENBQUMsS0FBZCxDQUFBO0VBQVg7O0FBbkNQIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZyxwcmludCxyYW5nZSB9IGZyb20gJy4vZ2xvYmFscy5qcycgXHJcbmltcG9ydCB7IFBhZ2UgfSBmcm9tICcuL3BhZ2UuanMnIFxyXG5pbXBvcnQgeyBCdXR0b24sc3ByZWFkIH0gZnJvbSAnLi9idXR0b24uanMnIFxyXG5pbXBvcnQgeyBMaXN0YSB9IGZyb20gJy4vbGlzdGEuanMnIFxyXG5cclxuZXhwb3J0IGNsYXNzIFBhaXJpbmdzIGV4dGVuZHMgUGFnZVxyXG5cclxuXHRjb25zdHJ1Y3RvciA6IC0+XHJcblx0XHRzdXBlcigpXHJcblx0XHRAdCA9IGcudG91cm5hbWVudFxyXG5cdFx0QHkgPSAxLjMgKiBnLlpPT01bZy5zdGF0ZV1cclxuXHRcdEBoID0gMjBcclxuXHRcdEBsaXN0YSA9IG5ldyBMaXN0YVxyXG5cclxuXHRcdEBidXR0b25zLkFycm93TGVmdCAgPSBuZXcgQnV0dG9uICcnLCAnJywgKCkgPT4gZy5zZXRTdGF0ZSBnLlNUQU5ESU5HU1xyXG5cdFx0QGJ1dHRvbnMuQXJyb3dSaWdodCA9IG5ldyBCdXR0b24gJycsICcnLCAoKSA9PiBnLnNldFN0YXRlIGcuVEFCTEVTXHJcblxyXG5cdFx0QGJ1dHRvbnMucCA9IG5ldyBCdXR0b24gJ1BhaXInLCAnUCA9IFBlcmZvcm0gcGFpcmluZycsICgpID0+IEB0LmxvdHRhKClcclxuXHRcdEBidXR0b25zWycgJ10gPSBuZXcgQnV0dG9uICd0b2dnbGUnLCAnc3BhY2UgPSBUb2dnbGUgcGF1c2UvYWN0aXZlJywgXHJcblx0XHRcdCgpID0+IEB0LnBsYXllcnNCeU5hbWVbZy5wYWdlc1tnLnN0YXRlXS5saXN0YS5jdXJyZW50Um93XS50b2dnbGUoKVxyXG5cclxuXHRcdEBidXR0b25zLl8uYWN0aXZlID0gZmFsc2VcclxuXHRcdEBzZXRMaXN0YSgpXHJcblxyXG5cdHNldExpc3RhIDogLT5cclxuXHRcdEBsaXN0YSA9IG5ldyBMaXN0YSBAdC5wbGF5ZXJzQnlOYW1lLCBcIlBhdXNlIE5hbWVcIiwgQGJ1dHRvbnMsIChwKSAtPlxyXG5cdFx0XHRzID0gaWYgcC5hY3RpdmUgdGhlbiAnICAgICAgJyBlbHNlICdwYXVzZSAnXHJcblx0XHRcdHMgKyBnLnR4dFQgcC5uYW1lLCAyNSwgd2luZG93LkxFRlRcclxuXHRcdHNwcmVhZCBAYnV0dG9ucywgMC42KmcuWk9PTVtnLnN0YXRlXSxAeSxAaFxyXG5cclxuXHRkcmF3IDogLT5cclxuXHRcdGZpbGwgJ3doaXRlJ1xyXG5cdFx0QHNob3dIZWFkZXIgQHQucm91bmRcclxuXHRcdEBsaXN0YS5kcmF3KClcclxuXHRcdGZvciBrZXkgb2YgQGJ1dHRvbnNcclxuXHRcdFx0YnV0dG9uID0gQGJ1dHRvbnNba2V5XVxyXG5cdFx0XHRidXR0b24uZHJhdygpXHJcblxyXG5cdG1vdXNlV2hlZWwgOiAoZXZlbnQgKS0+IEBsaXN0YS5tb3VzZVdoZWVsIGV2ZW50XHJcblx0bW91c2VQcmVzc2VkIDogKGV2ZW50KSAtPiBAbGlzdGEubW91c2VQcmVzc2VkIGV2ZW50XHJcblx0a2V5UHJlc3NlZCA6IChldmVudCkgLT4gQGJ1dHRvbnNba2V5XS5jbGljaygpIl19
//# sourceURL=c:\github\Dense\coffee\pairings.coffee